<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nutrition - Fitness Tracker</title>
    <!-- Link to your CSS files -->
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/dashboard.css">
    <link rel="stylesheet" href="../css/nutrition.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation Bar (same as dashboard) -->
    <nav class="navbar">
        <div class="nav-brand">
            <h2>Grayson Orr</h2>
        </div>
        <ul class="nav-links">
            <li><a href="../dashboard.html">Home</a></li>
            <li><a href="nutrition.html" class="active">Nutrition</a></li>
            <li><a href="exerciseLog.html">Exercise Log</a></li>
            <li><a href="workouts.html">Workouts</a></li>
            <li><a href="goals.html">Goals and Progress</a></li>
            <li><a href="calendar.html">Calendar</a></li>
            <li><a href="settings.html">Settings</a></li>
        </ul>
        <div class="nav-user">
            <span id="userNameNav">Demo User</span>
            <button id="logoutBtn" class="btn-logout">Logout</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="dashboard-main">
        <div class="dashboard-header">
            <h1>Monitor Your Nutrition</h1>
        </div>
        <!-- Intro paragraphs -->
        <section class="nutrition-intro">
            <p>Track your daily nutrition by logging meals throughout the day. Select foods from our database to automatically calculate your calories, macros, and key nutrients. Monitor your progress toward your daily goals and maintain a balanced diet that supports your fitness journey.
            </p>
            
            <br>
            
            <p>Your nutrition goals should align with your broader health and fitness objectives. Whether you're aiming to build muscle, lose weight, improve energy levels, or simply maintain a balanced lifestyle, setting the right macro and calorie targets is essential. Take time to define what success looks like for you. <a href="nutrition-goals.html">Set your nutrition goals</a> to personalize your tracking experience and stay focused on what matters most.</p>
            
            <br>
            
            <h3>Start Logging Below:</h3>
        </section>

        <!-- Date Navigation Header-->
        <section class="date-navigation">
            <button class="date-nav-btn" id="prevDateBtn">
                <i class="fa-solid fa-chevron-left"></i>Previous Day
            </button>

            <input type="date" id="nutritionDatePicker" class="nutrition-date-picker">

            <button class="date-nav-btn" id="nextDateBtn">
                Next Day<i class="fa-solid fa-chevron-right"></i>
            </button>
        </section>

        <!-- Nutrition Summary Table-->
        <div class="nutrition-table">
            <table>
                <thead>
                    <tr>
                        <th>Meal</th>
                        <th>Calories<br><small>kcal</small></th>
                        <th>Carbs<br><small>g</small></th>
                        <th>Fat<br><small>g</small></th>
                        <th>Protein<br><small>g</small></th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!--Breakfast-->
                    <tr class="meal-section">
                        <td colspan="6">
                            <div class="meal-header">
                                <h3>Breakfast</h3>
                                <button class="add-food-btn" data-meal="breakfast">
                                    <i class="fa-solid fa-plus"></i> Add Food
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tbody id="breakfast-foods"></tbody>
                    <tr class="meal-total">
                        <td><strong>Breakfast Total</strong></td>
                        <td id="breakfast-calories">0</td>
                        <td id="breakfast-carbs">0</td>
                        <td id="breakfast-fat">0</td>
                        <td id="breakfast-protein">0</td>
                        <td></td>
                    </tr>
                    <!-- Lunch -->
                    <tr class="meal-section">
                        <td colspan="6">
                            <div class="meal-header">
                                <h3>Lunch</h3>
                                <button class="add-food-btn" data-meal="lunch">
                                    <i class="fa-solid fa-plus"></i> Add Food
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tbody id="lunch-foods"></tbody>
                    <tr class="meal-total">
                        <td><strong>Lunch Total</strong></td>
                        <td id="lunch-calories">0</td>
                        <td id="lunch-carbs">0</td>
                        <td id="lunch-fat">0</td>
                        <td id="lunch-protein">0</td>
                        <td></td>
                    </tr>
                    <!-- Dinner -->
                    <tr class="meal-section">
                        <td colspan="6">
                            <div class="meal-header">
                                <h3>Dinner</h3>
                                <button class="add-food-btn" data-meal="dinner">
                                    <i class="fa-solid fa-plus"></i> Add Food
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tbody id="dinner-foods"></tbody>
                    <tr class="meal-total">
                        <td><strong>Dinner Total</strong></td>
                        <td id="dinner-calories">0</td>
                        <td id="dinner-carbs">0</td>
                        <td id="dinner-fat">0</td>
                        <td id="dinner-protein">0</td>
                        <td></td>
                    </tr>
                    <!-- Snacks -->
                    <tr class="meal-section">
                        <td colspan="6">
                            <div class="meal-header">
                                <h3>Snacks</h3>
                                <button class="add-food-btn" data-meal="snacks">
                                    <i class="fa-solid fa-plus"></i> Add Food
                                </button>
                            </div>
                        </td>
                    </tr>
                    <tbody id="snacks-foods"></tbody>
                    <tr class="meal-total">
                        <td><strong>Snacks Total</strong></td>
                        <td id="snacks-calories">0</td>
                        <td id="snacks-carbs">0</td>
                        <td id="snacks-fat">0</td>
                        <td id="snacks-protein">0</td>
                        <td></td>
                    </tr>
                    <!-- Daily Total -->
                    <tr class="daily-total">
                        <td><strong>Daily Total</strong></td>
                        <td id="daily-calories">0</td>
                        <td id="daily-carbs">0</td>
                        <td id="daily-fat">0</td>
                        <td id="daily-protein">0</td>
                        <td></td>
                    </tr>
                    <tr class="goals-row">
                        <td><strong>Daily Goals</strong></td>
                        <td id="goal-calories">1800</td>
                        <td id="goal-carbs">180</td>
                        <td id="goal-fat">60</td>
                        <td id="goal-protein">175</td>
                        <td></td>
                    </tr>
                    <tr class="remaining-row">
                        <td><strong>Remaining</strong></td>
                        <td id="remaining-calories">1800</td>
                        <td id="remaining-carbs">180</td>
                        <td id="remaining-fat">60</td>
                        <td id="remaining-protein">175</td>
                        <td></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>

    <!-- Food Search Modal -->
    <div id="foodModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Food to <span id="modalMealType"></span></h2>
                <span class="close" id="closeModal">&times;</span>
            </div>
            <div class="modal-body">
                <!-- Search Box -->
                <div class="search-box">
                    <input type="text" id="foodSearchInput" placeholder="Search for food (e.g., chicken, apple, rice)...">
                    <button id="searchBtn">Search</button>
                </div>
                
                <!-- Search Results -->
                <div id="searchResults" class="search-results">
                    <p class="search-hint">Type at least 2 characters to search</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Food Details Modal (for logging amount) -->
    <div id="foodDetailsModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Log Food</h2>
                <span class="close" id="closeFoodDetailsModal">&times;</span>
            </div>
            <div class="modal-body">
                <div id="selectedFoodInfo"></div>
                <div class="amount-input">
                    <label>Amount (grams):</label>
                    <input type="number" id="foodAmountInput" placeholder="Enter grams" min="1">
                    <p class="serving-hint" id="servingHint"></p>
                </div>
                <button id="logFoodBtn" class="btn-primary">Log Food</button>
            </div>
        </div>
    </div>

    <!-- Load JavaScript -->
    <script src="../js/utils.js"></script>
    <script src="../js/nutrition.js"></script>
</body>
</html>